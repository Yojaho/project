<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Type" content="textml; charset=utf-8" />
	    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	    <!--苹果特有meta-->
	    <meta content="yes" name="apple-mobile-web-app-capable" />
	    <meta content="telephone=no" name="format-detection" />
	    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<title>身心健康</title>
		<link rel="stylesheet" href="css/style.css" />
		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
	</head>
	<body>
		<header class="header">
			<div class="header_left">
				<img class="head_icon" src="images/top.png" />
			</div>
			<div class="head_font">身心健康</div>
			<div class="header_right">
			</div>
		</header>
		<section id="mt_content" class="content">
			<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
				<div class="test_title">测试你的身心健康综合程度</div>
				<div class="test_jg">测试结果:参考意义不足</div>
				<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
			<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
					<div class="test_title">测试你的身心健康综合程度</div>
					<div class="test_jg">测试结果:参考意义不足</div>
					<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
						<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
				<div class="test_title">测试你的身心健康综合程度</div>
				<div class="test_jg">测试结果:参考意义不足</div>
				<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
						<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
				<div class="test_title">测试你的身心健康综合程度</div>
				<div class="test_jg">测试结果:参考意义不足</div>
				<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
						<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
				<div class="test_title">测试你的身心健康综合程度</div>
				<div class="test_jg">测试结果:参考意义不足</div>
				<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
						<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
				<div class="test_title">测试你的身心健康综合程度</div>
				<div class="test_jg">测试结果:参考意义不足</div>
				<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
						<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
				<div class="test_title">测试你的身心健康综合程度</div>
				<div class="test_jg">测试结果:参考意义不足</div>
				<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
			<div class="mt_cent test_cent list-li">
				<div class="test_yq"></div>
				<div class="text_box">
					<div class="test_title">测试你的身心健康综合程度</div>
					<div class="test_jg">测试结果:参考意义不足</div>
					<div class="test_date">2016-02-03</div>
				</div>
				<div class="btn"></div>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</section>
	</body>
<script type="text/javascript">
$(function() {
    function prevent_default(e) {
        e.preventDefault();
    }

    function disable_scroll() {
        $(document).on('touchmove', prevent_default);
    }
    function enable_scroll() {
        $(document).unbind('touchmove', prevent_default)
    }

    var x;
    $('.content .list-li')
        .on('touchstart', function(e) {
            console.log(e.originalEvent.pageX);
         	 $('.content .list-li').css('left', '0px');// close em all
            $(e.currentTarget).addClass('open');
            x = e.originalEvent.targetTouches[0].pageX; // anchor point
        })
        .on('touchmove', function(e) {
            var change = e.originalEvent.targetTouches[0].pageX - x;
            change = Math.min(Math.max(-100, change), 0); // restrict to -100px left, 0px right
            e.currentTarget.style.left = change + 'px';
            if (change < -10) disable_scroll(); // disable scroll once we hit 10px horizontal slide
        })
        .on('touchend', function(e) {
            var left = parseInt(e.currentTarget.style.left)
            var new_left;
            if (left < -35) {
                new_left = '-72px'
            } else if (left > 35) {
                new_left = '72px'
            } else {
                new_left = '0px'
            }
            // e.currentTarget.style.left = new_left
            $(e.currentTarget).animate({left: new_left}, 200);
            enable_scroll()
        });

    $('.list-li .btn').on('touchend', function(e) {
        e.preventDefault()
        $(this).parents('.list-li').slideUp('fast', function() {
            $(this).remove()
        })
    })

});
</script>
</html>
